<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 字體 -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <title>台北一日遊</title>
</head>
<style type="text/css">
header{
    background: #FFFFFF;
    position: fixed;
    z-index: 100;
    width: 100%;
    height: 54px;
    left: 0px;
    top: 0px;
    border-bottom: 1px solid gainsboro;


}
#head{
    max-width: 1200px;
    height: 54px;
    justify-content: space-between;
    display: flex;
    align-items: center;
    margin: auto;
}
#headLeft{
    color: #448899;
    text-align: center;
    font-style: normal;
    font-weight: bold;
    font-size: 30px;
    line-height: 34px;
}
#headRight{
    color: #666666;
    text-align: center;
    font-style: normal;
    font-weight: normal;
    font-size: 16px;
    line-height: 13px;
}
#headRight>a{
    margin: 0px 10px;
}

body{
    margin: 54px 0px 0px 0px ;
    font-family: 'Noto Sans TC', sans-serif;
}

#hero{
    display: flex;
    align-items: center;
    justify-content: space-between;
    max-width: 1200px;
    margin: 0px auto 37px auto;
}

#img{
    width: 540px;
    height: 406px;
    margin-top: 37px;
    margin-left: 15px;
    margin-right: 15px;
    border-radius: 5px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-repeat: no-repeat;
    background-size: 100%;
    position: relative;
}
#leftImg{
    background: url(/static/btn_leftArrow.png);
    width: 36px;
    height: 36px;
    margin-left: 10px;
}
#rightImg{
    background: url(/static/btn_rightArrow.png);
    width: 36px;
    height: 36px;
    margin-right: 10px;
}
#imgCenter{
    height: 30px;
    position: relative ;
    bottom: -188px;
    display: flex;
    justify-content:space-around ;
    align-items: center;

}
.imgChoice{
    background-color: white;
    width: 12px;
    height: 12px;
    border-radius: 18px;
    margin: 0px 6px 13px 6px;
    opacity:90%
    /* margin-left:  6px;
    margin-right: 6px; */
}
#nowImg{
    border: 1px #ffffff solid;
    background-color: #000000;
    opacity:90%
}
#heroRight{
    margin-top: 0px;
    width: 600px;
}
#name{
    font-size: 24px;
    line-height: 24px;
    color: #666666;
    height: 33px;
    margin-top: 40px;
    margin-bottom: 15px;
    font-weight: 700;
}
#category{
    margin-bottom: 20px;
    font-size: 16px;
    line-height: 13.3px;
    font-weight: 400;
    color: #666666;
}
#heroRightbox{
    width: 560px;
    height: 246px;
    background-color: #E8E8E8;
    padding: 15px 20px 41px 20px;
    margin-bottom: 11px;
    border-radius: 5px;
}
#rightTitle{
    margin-bottom:15px ;

    height: 22px;
    font-size: 16px;
    line-height: 13.3px;
    color: #666666;
    font-weight: 700;
}
#rightIntro{
    margin-bottom:15px ;
    height: 24px;
    font-size: 16px;
    line-height: 13.3px;
    font-weight: 400;
    color: #666666;
}
.title{
    font-size: 16px;
    line-height: 13.3px;
    color: #666666;
    font-weight: 700;
}
#date{
    margin-bottom: 24px;
}
#date>input{
    margin-left: 5px;
    padding: 5px 5px 5px 10px;
    width: 188px;
    height: 25px;
}
#time{
    display: flex;
    margin-bottom: 15px;
    align-items: center;
}
.timeCheck{
    background: #FFFFFF;
    width: 22px;
    height: 22px;
    border-radius: 22px;
    margin-left: 12px;
    margin-right: 6px;
    display: flex;
    align-items: center;
}
.changeTime{
    width: 18px;
    height:18px;
    border-radius: 18px;
    background-color: #448899;
    margin: auto;
}
#rightTimeCheck{
    margin-left: 18px;
}
.day{
    display: flex;
    font-size: 16px;
    line-height: 13.3px;
    font-weight: 400;
    color: #666666;
    /* margin-bottom: 15px; */
    align-items: center;

}
#money{
    display: flex;
    align-items: center;
    margin-bottom: 25px;
}
#moneyContent{
    margin-left: 5px;
    font-size: 16px;
    line-height: 13.3px;
    color: #666666;
    font-weight: 400;
}
.moneyContent{
    margin-left: 5px;
}
#button{
    background-color: #448899;
    width: 114px;
    height: 16px;
    padding: 10px 20px;
    color: #FFFFFF;
    font-size: 19px;
    line-height: 16px;
    font-weight: 400;
    align-items: center;
    border-radius: 5px;
}
hr{
    width: 1200px;
}
#bottom{
    max-width: 1200px;
    margin: 50px auto 120px auto;
    font-size: 16px;
    line-height: 30px;
    font-weight: 400;
    color: #666666;
    padding-left: 10px;
    padding-right: 10px;
}
.bottomTitle{
    width: 1180px;
    height: 32px;
    font-size: 16px;
    line-height: 13.3px;
    font-weight: 700;
    margin-top: 20px;
}
#signIn{
    /* display: none; */
    position: fixed;
    z-index: 100;
    background-color: white;
    width: 340px;
    /* height: 275px; */
    height: auto;
    top: 80px;
    left: 50%;
    transform:translate(-50%, 0);
    border-radius: 5px;
}
#signinHead{
    border-radius: 5px 5px 0px 0px;
    width: 100%;
    height: 10px;
    background: linear-gradient(270deg, #337788 0%, #66AABB 100%);
}
#signinImg{
    background: url(/static/icon_close.png);
    height: 16px;
    width: 16px;
    position: fixed;
    top: 27px;
    right: 17px;
}
#signinTitle{
    margin: 0px auto 0px auto;
    width: 310px;
    height: 27px;
    font-weight: 700;
    font-size: 24px;
    line-height: 24px;
    color: #666666;
    margin: 15px auto 10px auto;
    text-align: center;

}
.signinInput{
    width: 280px;
    height: 17px;
    border: 1px #CCCCCC solid;
    color: #666666;
    padding: 15px;
    font-size: 16px;
    font-weight: 400;
    border-radius: 5px;
    margin: 5px 15px;
    text-align: left;
}
#signinButton{
    width: 270px;
    height: 27px;
    background: #448899;
    border-radius: 5px;
    padding: 10px 20px;
    margin: 5px auto;
}
#signinButtonText{
    width: 270px;
    height: 27px;
    text-align: center;
    font-size: 19px;
    font-weight: 400;
    color: #FFFFFF;
    /* margin: 10px 20px; */
}
#signinFoot{
    width: 310px;
    height: 22px;
    font-size: 16px;
    font-weight: 400;
    color: #666666;
    margin: 5px 15px 15px 15px;
    text-align: center;
}
#signUp{
    position: fixed;
    z-index: 100;
    background-color: white;
    width: 340px;
    /* height: 332px; */
    height: auto;
    top: 80px;
    left: 50%;
    transform:translate(-50%, 0);
    border-radius: 5px;
}
#signupHead{
    border-radius: 5px 5px 0px 0px;
    width: 100%;
    height: 10px;
    background: linear-gradient(270deg, #337788 0%, #66AABB 100%);
}
#signupImg{
    background: url(/static/icon_close.png);
    height: 16px;
    width: 16px;
    position: fixed;
    top: 27px;
    right: 17px;
}
#signupTitle{
    margin: 0px auto 0px auto;
    width: 310px;
    height: 27px;
    font-weight: 700;
    font-size: 24px;
    line-height: 24px;
    color: #666666;
    margin: 15px auto 10px auto;
    text-align: center;

}
.signupInput{
    width: 280px;
    height: 17px;
    border: 1px #CCCCCC solid;
    color: #666666;
    padding: 15px;
    font-size: 16px;
    font-weight: 400;
    border-radius: 5px;
    margin: 5px 15px;
    text-align: left;
}
#signupButton{
    width: 270px;
    height: 27px;
    background: #448899;
    border-radius: 5px;
    padding: 10px 20px;
    margin: 5px auto;
}
#signupButtonText{
    width: 270px;
    height: 27px;
    text-align: center;
    font-size: 19px;
    font-weight: 400;
    color: #FFFFFF;
    /* margin: 10px 20px; */
}
#signupFoot{
    width: 310px;
    height: 22px;
    font-size: 16px;
    font-weight: 400;
    color: #666666;
    margin: 5px 15px 15px 15px;
    text-align: center;
}
.errorText{
    margin: 0px 15px 10px 15px;
    height: 22px;
    width: 310px;
    color: brown;
    text-align: center;
}

footer{
    background: #757575;
    height: 104px;
    display: flex;
    align-items: center;
}
#foot{
    line-height: 13px;
    margin: auto;
    font-style: normal;
    font-weight: bold;
    font-size: 16px;
    line-height: 13px;
    color: #FFFFFF;
} 
.display{
    display: none;
}
.mymouse{
    cursor: pointer;
}
#windowBackground{
    width: 100vw;
    background-color: black;
    opacity: 0.25;
    height: 100vh;
    position: fixed;
    z-index: 100;
    margin: 0px 0px 0px 0px ;
}
.moneyText{
    display: flex;
    font-weight: 400;
}
@media screen and (min-width: 600px) and (max-width: 1200px) {
    #head{
        margin:  auto 10px;
        padding:  0px 5%;
    }
    #header{
        width: 100%;
    }
    #hero{
        width: 100%;
        display:unset;
        align-items: center;
        background-position: center;
    }
    #img{
        width: 100%;
        height: 350px;
        background-size: auto 350px;
        margin: 74px auto 0px auto;
        background-position: center center;
    }
    #imgCenter{
        bottom: -160px;
    }
    #heroRight{
        margin: 0px auto 30px auto;
    }
    
    #address{
        width: 600px;
        height: 32px;

    }
    #bottom{
        width: 600px;
        margin-top: 30px;
    }
    .bottomTitle{
        width: 600px;
        height: 32px;

    }
    #description{
        width: 600px;
        line-height: 30px;
        margin-top: 0px;
        margin-bottom: 20px;


    }
    #transport{
        width: 600px;
        line-height: 30px;

    }
    hr{
        width: 100%;
    }
}

@media screen and (max-width: 600px) {
    #head{
        padding:  0px 0.5%;
        margin:  auto 10px;
    }
    #header{
        width: 360px;
    }
    #headLeft{
        margin-left: 10px;
    }
    #hero{
        width: 360px;
        display:unset;
        align-items: center;
        background-position: center;
    }
    body{
        margin-top: 94px;
    }
    #heroRight{
        margin: 0px auto;
    }
    #img{
        width: 100%;
        height: 350px;
        background-size: auto 350px;
        margin: 0px auto;
        background-position: center center;
    }
    #imgCenter{
        bottom: -160px;
    }
    #heroRight{
        margin-top: 0px;
        width: 340px;
    }
    #heroRightbox{
        width: 300px;
        height: 270px;
        padding-bottom: 15px;
        margin-bottom: 40px;
    }
    #name{
        width:340px;
        margin-top: 20px;

    }
    #rightIntro{
        line-height: 23.17px;
        height:48px
    }
    hr{
        width: 90%;
        margin: 0px auto;
    }
    #address{
        width: 330px;
        height: 32px;

    }
    #bottom{
        width: 330px;
    }
    .bottomTitle{
        width: 330px;
        height: 32px;

    }
    #description{
        width: 330px;
        margin-top: 0px;
        margin-bottom: 20px;


    }
    #transport{
        width: 330px;

    }

}

</style>

<header>
    <div id="windowBackground" class="display">
    </div>
    <div id="head">
        <div id="headLeft" onclick="location.href='/'" class="mymouse"><a >台北一日遊</a></div>
        <div id="headRight">
            <a class="mymouse" onclick="bookingBut()">預定行程</a>
            <a id="headsignin" onclick="signinWindow()" class="mymouse">登入/註冊</a>
            <a id="headsignout" onclick="signOut()" class="display mymouse" onclick="signinWindow()">登出系統</a>
        </div>
        
    </div>  
</header>

<div id="signIn" class="display">
    <div id="signinHead"></div>
    <div id="signinImg" class="mymouse" onclick="closeWindow()"></div>
    <div id="signinTitle">登入會員帳號 </div>
    <input class="signinInput" type="email" id="signinEmail" placeholder="輸入電子信箱">
    <input class="signinInput" type="password" id="signinPassword" placeholder="輸入密碼">
    <div class="errorText display" id="signinError" >帳號或密碼輸入錯誤</div>
    <div id="signinButton" onclick="signIn()" class="mymouse">
        <div id="signinButtonText" >登入帳戶</div>
    </div>
    <div id="signinFoot" onclick="signupWindow()">還沒有帳戶？點此註冊</div>   
</div>

<div id="signUp" class="display">
    <div id="signupHead"></div>
    <div id="signupImg" class="mymouse" onclick="closeWindow()"></div>
    <div id="signupTitle">註冊會員帳號 </div>
    <input class="signupInput" id="signupName" placeholder="輸入姓名">
    <input class="signupInput" type="email" id="signupEmail" placeholder="輸入電子信箱">
    <input class="signupInput" type="password" id="signupPassword" placeholder="輸入密碼">
    <div class="errorText display" id="signupemailError" >此電子信箱已被註冊</div>
    <div class="errorText display" id="signupspaceError" >欄位為空白或含非法字元</div>
    <div id="signupButton" onclick="signUp()" class="mymouse">
        <div id="signupButtonText" >註冊新帳戶</div>
    </div>
    <div id="signupFoot" onclick="signinWindow()">已經有帳戶？點此登入</div>   
</div>

<body onload="checkMember()">
    <div id="hero">
        <div id="img">
            <div id="leftImg"  onclick="leftImg()" class="mymouse"></div>
            <div id="imgCenter">
            </div>
            <div id="rightImg" onclick="rightImg()" class="mymouse"></div>
        </div>
        <div id="heroRight">
            <div id="name"></div>
            <div id="category"></div>
            <div id="heroRightbox">
                <div class="title" id="rightTitle">訂購導覽行程</div>
                <div id="rightIntro">以此景點為中心的一日行程，帶您探索城市角落故事</div>
                <div class="title " id="date" >選擇日期：<input  id="dateInput" type="date" required></div>
                <div class="title" id="time" >選擇時間：
                    <div class="day mymouse" onclick="changeLeftTime()">
                        <div class="timeCheck" id="leftTimeCheck" >
                            <div  class="changeTime" id="changeLeftTime"></div>
                        </div>
                        <div>上半天</div>
                    </div>
                    <div class="day mymouse" onclick="changeRightTime()">
                        <div class="timeCheck" id="rightTimeCheck" >
                            <div  id="changeRightTime"></div>
                        </div>
                        <div>下半天</div>
                    </div>
                </div>
                <div class="title" id="money">導覽費用： <div class="moneyText">新台幣<div id="moneyContent">2000 </div>元</div></div>
                <div id="button" class="mymouse" onclick="submit()">開始預訂行程</div>
            </div>
        </div>
    </div>
    <hr>
    <div id="bottom">
        <p id="description"></p>
        <div class="bottomTitle">景點地址:</div>
        <div id="address"></div>
        <div class="bottomTitle" id="transportTitle">交通方式</div>
        <div id="transport"></div>
    </div>
</body>
<footer>
    <div id="foot">
        COPYRIGHT © 2021 台北一日遊   
    </div>
</footer>
</html>
<script type="text/javascript">
    function submit(){
        let date=document.getElementById("dateInput").value
        let price=parseInt(document.getElementById("moneyContent").textContent)
        let attractionId=parseInt(location.pathname.slice(12))
        let img=document.getElementById("img").style.backgroundImage
        let name=document.getElementById("name").textContent
        let address=document.getElementById("address").textContent
        if (date==""){
            alert("請選取日期")
        }else{
            let bookingreq=new XMLHttpRequest()
            bookingreq.open("post","/api/booking")
            bookingreq.onload=function(){
                bookingData=JSON.parse(this.responseText);
                if (bookingData["message"]=="使用者未登入"){
                    signinWindow();
                }else if (bookingData["ok"]==true){
                    window.sessionStorage.setItem("name",name)
                    window.sessionStorage.setItem("address",address)
                    window.sessionStorage.setItem("date",date)
                    window.sessionStorage.setItem("time",time)
                    window.sessionStorage.setItem("price",price)
                    window.sessionStorage.setItem("img",img)
                    window.location.href="/booking"
                }else if(bookingData["message"]=="訂購資料有缺誤"){
                    alert("訂購資料有缺誤")
                }
                
            }
            bookingreq.send(JSON.stringify({"attractionId":attractionId,"date":date,"time":time,"price":price}))
        }
    }
    // 預定行程按鈕
    function bookingBut(){
        let headsignout=document.getElementById("headsignout").className
        if (headsignout=="mymouse"){
            window.location.href="/booking"
        }else{
            signinWindow()
        }
    }
    //確認使用者登入狀態 
    function checkMember(){
        let reqMember=new XMLHttpRequest();
        reqMember.open("get","/api/user")
        reqMember.onload=function(){
            let getdata=JSON.parse(this.responseText);
            let headsignin=document.getElementById("headsignin")
            let headsignout=document.getElementById("headsignout")
            if(getdata["data"]!=null){
                headsignin.classList.add("display")
                headsignout.classList.remove("display")
            }else{
                headsignin.classList.remove("display")
                headsignout.classList.add("display")
            }
        }
        reqMember.send()
    }

    //登出
    function signOut(){
        let reqsignOut=new XMLHttpRequest()
        reqsignOut.open("delete","/api/user")
        reqsignOut.onload=function(){
            window.location.reload()
            headsignin.classList.remove("display")
            headsignout.classList.add("display")
            
        }
        reqsignOut.send()
    }
    
    // 登入
    function signIn(){
        let signineMail=document.getElementById("signinEmail").value
        let signinPassword=document.getElementById("signinPassword").value
        let signinError=document.getElementById("signinError")
        if(signineMail==""|signinPassword==""){
            signinError.classList.remove("display")
        }else{
            let reqsignIn=new XMLHttpRequest()
            reqsignIn.open("patch","/api/user")
            reqsignIn.onload=function(){
                signindata=JSON.parse(this.responseText);
                if (signindata["ok"]==true){
                    window.location.reload()
                }else{
                    signinError.classList.remove("display")
                }
                
            }
            reqsignIn.send(JSON.stringify({"email":signineMail,"password":signinPassword}))
        }
    }
    
    //註冊
    function signUp(){
        let signupName=document.getElementById("signupName").value
        let signupMail=document.getElementById("signupEmail").value
        let signupPassword=document.getElementById("signupPassword").value
        let signupemailError=document.getElementById("signupemailError")
        let signupspaceError=document.getElementById("signupspaceError")
        // 判斷input是否空白
        if(signupName==""| signupMail==""| signupPassword==""){
            signupspaceError.classList.remove("display")
        }else{
            // 連接註冊API
            let reqsignUp=new XMLHttpRequest();
            reqsignUp.open("post","/api/user")
            reqsignUp.onload=function(){
                signupdata=JSON.parse(this.responseText);
                if(signupdata["ok"]==true){
                    //註冊成功則自動登入
                    let reqsignIn=new XMLHttpRequest()
                    reqsignIn.open("patch","/api/user")
                    reqsignIn.onload=function(){
                        signindata=JSON.parse(this.responseText);
                        if (signindata["ok"]==true){
                            window.location.reload()
                        }else{
                            let signinError=document.getElementById("signinError")
                            signinError.classList.remove("display")
                        }
                        
                    }
                    reqsignIn.send(JSON.stringify({"email":signupMail,"password":signupPassword}))
                }else{
                    // 註冊失敗顯示原因
                    signupspaceError.classList.add("display")
                    signupemailError.classList.remove("display")
                }
            }
            reqsignUp.send(JSON.stringify({"name":signupName,"email":signupMail,"password":signupPassword}))

        }
        

    }

    // 註冊、登入視窗
    function signinWindow(){
        let signIn=document.getElementById("signIn");
        let signUp=document.getElementById("signUp");
        let windowBackground=document.getElementById("windowBackground")
        windowBackground.classList.remove("display");
        signUp.classList.add("display");
        signIn.classList.remove("display");
        // 隱藏錯誤訊息
        signinError.classList.add("display");
        signupspaceError.classList.add("display");
        signupemailError.classList.add("display");
    }
    function signupWindow(){
        let signIn=document.getElementById("signIn");
        let signUp=document.getElementById("signUp");
        windowBackground.classList.remove("display");
        signUp.classList.remove("display");
        signIn.classList.add("display");
        // 隱藏錯誤訊息
        signinError.classList.add("display");
        signupspaceError.classList.add("display");
        signupemailError.classList.add("display");
    }
    function closeWindow(){
        let signIn=document.getElementById("signIn");
        let signUp=document.getElementById("signUp");
        windowBackground.classList.add("display");
        signUp.classList.add("display");
        signIn.classList.add("display");
        // 隱藏錯誤訊息
        signupspaceError.classList.add("display");
        signupemailError.classList.add("display");
    }
    
    //選擇時間
    function changeLeftTime(){
        let changeLeftTime=document.getElementById("changeLeftTime")
        let changeRightTime=document.getElementById("changeRightTime")
        time="morning"
        changeLeftTime.classList.add("changeTime")
        changeRightTime.classList.remove("changeTime")
        let moneyContent=document.getElementById("moneyContent")
        let dollor="2000"
        moneyContent.textContent=dollor
    }
    function changeRightTime(){
        let changeLeftTime=document.getElementById("changeLeftTime")
        let changeRightTime=document.getElementById("changeRightTime")
        time="afternoon"
        changeLeftTime.classList.remove("changeTime")
        changeRightTime.classList.add("changeTime")
        let moneyContent=document.getElementById("moneyContent")
        let dollor="2500"
        moneyContent.textContent=dollor
    }
    // 切換圖片
    function leftImg(){
        let totalImg=document.getElementsByClassName("imgChoice");
        if(img.style.backgroundImage=="url(\""+data.data.images[0]+"\")"){
            imgNumber=data.data.images.length-1;
            img.style.backgroundImage="url("+data.data.images[imgNumber]+")";
            totalImg[0].removeAttribute("id","nowImg");
            totalImg[imgNumber].setAttribute("id","nowImg");
        }else{
            imgNumber-=1;
            img.style.backgroundImage="url("+data.data.images[imgNumber]+")";    
            totalImg[imgNumber+1].removeAttribute("id","nowImg");
            totalImg[imgNumber].setAttribute("id","nowImg");       
        };
    };
    function rightImg(){
        let totalImg=document.getElementsByClassName("imgChoice");
        if(img.style.backgroundImage=="url(\""+data.data.images[0]+"\")"){
            // 判斷圖片不只1張
            if(data.data.images.length>1){
                imgNumber=1;
                img.style.backgroundImage="url("+data.data.images[imgNumber]+")";
                totalImg[0].removeAttribute("id","nowImg");
                totalImg[imgNumber].setAttribute("id","nowImg");
            };
        }else{
            imgNumber+=1;
            if(data.data.images[imgNumber]==null){
                img.style.backgroundImage="url("+data.data.images[0]+")";
                totalImg[imgNumber-1].removeAttribute("id","nowImg");
                totalImg[0].setAttribute("id","nowImg");

            }else{
                img.style.backgroundImage="url("+data.data.images[imgNumber]+")";
                totalImg[imgNumber-1].removeAttribute("id","nowImg");
                totalImg[imgNumber].setAttribute("id","nowImg");
                

            };
        };
    };
    // 抓取網址、連線api
    time="morning"
    let req=new XMLHttpRequest();
    req.open("get","/api"+location.pathname);
    req.onload=function(){
        data=JSON.parse(this.responseText);
        // 抓取id
        let name=document.getElementById("name");
        let transport=document.getElementById("transport");
        let description=document.getElementById("description");
        let address=document.getElementById("address");
        let category=document.getElementById("category");
        let img=document.getElementById("img");
        // 創造api文字
        let Name = document.createTextNode(data.data.name);
        let Description = document.createTextNode(data.data.description);
        let Address = document.createTextNode(data.data.address);
        let Transport = document.createTextNode(data.data.transport);
        // 判斷mrt是否為空值
        if(data.data.mrt==null){
            let Category = document.createTextNode(data.data.category);
            category.appendChild(Category);
        }else{
            let Category = data.data.category;
            let Mrt=data.data.mrt;
            let content=Category+" at "+Mrt;
            let Content = document.createTextNode(content);
            category.appendChild(Content);
        };
        imgAmount()
        // 填入api文字、圖片
        name.appendChild(Name);
        description.appendChild(Description);
        address.appendChild(Address);
        transport.appendChild(Transport);
        img.style.backgroundImage="url("+data.data.images[0]+")";
        //判斷交通方式是否為空值
        if(data.data.transport==null){
            let transportTitle=document.getElementById("transportTitle")
            let transport=document.getElementById("transport")
            transportTitle.innerHTML=""
            transport.innerHTML=""
    }   
    }
    req.send();
    
    function clickImg(){
        var img=document.getElementsByClassName("imgChoice")
        var index=[].indexOf.call(img[0].parentElement.children,img[0])
        var img=this
    }
    function imgAmount(){
        imgNumber=data.data.images.length;
        let whileNumber=0
        while(whileNumber<imgNumber){
            let newDiv=document.createElement("div");
            let imgCenter=document.getElementById("imgCenter");
            newDiv.classList.add("imgChoice");
            newDiv.setAttribute("onClick","clickImg()")
            imgCenter.appendChild(newDiv);
            whileNumber+=1;
        };
        let totalImg=document.getElementsByClassName("imgChoice");
        totalImg[0].setAttribute("id","nowImg");
    };
    
</script>